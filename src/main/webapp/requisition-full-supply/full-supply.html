<div class="product-grid table-container">
	<table table-pinned-columns>
		<thead>
			<tr>
				<th class="col-{{column.name}}" ng-repeat="column in vm.columns | orderBy : 'displayOrder'" ng-class="{sticky: !column.canChangeOrder}" popover="{{column.definition}}">{{column.label}}
					<div ng-if="vm.isSkipColumn(column)">
						<a href="" ng-click="vm.skipAll()">{{'requisition.lineItem.skip.all' | message}}</a> |
						<a href="" ng-click="vm.unskipAll()">{{'requisition.lineItem.skip.none' | message}}</a>
					</div>
				</th>
			</tr>
		</thead>
		<tbody title="{{category}}" ng-repeat="(category, lineItems) in vm.getCurrentPage() | groupBy:'$program.productCategoryDisplayName'">
			<tr ng-class="{'invalid-row': !vm.isLineItemValid(lineItem), 'skipped-line-item' : lineItem.skipped}"
				ng-repeat="lineItem in lineItems | orderBy : 'orderable.name'">
				<td ng-repeat="column in vm.columns | orderBy : 'displayOrder'"
					product-grid-cell requisition="vm.requisition" column="column" line-item="lineItem"></td>
			</tr>
		</tbody>
	</table>
</div>
<openlmis-pagination current-page="vm.currentPage"
	is-item-valid="vm.isLineItemValid"
	change-page="vm.changePage"
	items="vm.paginatedLineItems">
</openlmis-pagination>
