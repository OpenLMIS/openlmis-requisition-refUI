
<div class="page">
  <h2 openlmis-message="label.initiate.requisition"></h2>
  <form class="form-filter">
    <fieldset class="form-group">
      <legend openlmis-message="label.requisition.facilityType"></legend>
      <label class="radio">
        {{'label.myFacility'|message}}
        <input type="radio" ng-model="selectedType" ng-value="0" ng-change="loadFacilityData(selectedType);" />
      </label>
      <label class="radio is-disabled">
        {{'label.supervised.Facility'|message}}
        <input type="radio" ng-model="selectedType" ng-value="1" ng-change="loadFacilityData(selectedType);" disabled />        
      </label>
    </fieldset>
    <div class="form-group">
      <label for="facilityName" openlmis-message="label.requisition.facilityName"></label>
      <select id="facilityName" disabled>
        <option>{{facilityDisplayName}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="programListMyFacility" openlmis-message="label.program"></label>
        selectedBy: {{selectedProgram}}<br/>
       <openlmis-select id="programListMyFacility"
                        ng-model="selectedProgram"
                        on-change="loadPeriods()"
                        items="programs"
                        placeholder="{{ programOptionMessage() }}"
                        field-displayed="name"
                        repeat="item in items | orderBy:'id'"></openlmis-select>
      <!-- <select placeholder="{{ programOptionMessage() }}"
        id="programListMyFacility"
        ng-model="selectedProgram" ng-change="loadPeriods()"
        ng-options="program.name for program in programs track by program.id">
      </select> -->
    </div>
    <fieldset class="form-group">
      <legend openlmis-message="label.requisition.type"></legend>
      <label ng-repeat="type in rnrTypes.types" class="radio">
        {{type.name}}
        <input type="radio" ng-model="selectedRnrType.emergency" ng-value="type.emergency" ng-change="loadPeriods();" />
      </label>
    </fieldset>
  </form>
  <div ng-if="selectedProgram && selectedFacilityId && periodGridData && !(periodGridData.length == 0)"
    ui-grid="periodGridOptions"
    class="grid grid-init-rnr"
    id="periodGrid"></div>
  </div>
  <div ng-if="error" class="alert alert-error" openlmis-message="error" ng-show="error"></div>
</div>